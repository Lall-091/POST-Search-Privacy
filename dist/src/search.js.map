{"version":3,"sources":["search.js"],"names":["create_input","name","value","type","hin","document","createElement","id","frm","getElementById","appendChild","onMessageHandler","msg","console","log","chrome","runtime","onMessage","removeListener","hasOwnProperty","qel","data","url","URL","action","origin","pathname","qwant","submit","addListener"],"mappings":";AAAA,SAASA,EAAaC,EAAMC,GAAOC,IAAAA,EAAK,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,SACnCC,EAAMC,SAASC,cAAc,SACjCF,EAAID,KAAOA,EACXC,EAAIH,KAAOA,EACXG,EAAIG,GAAKN,EACTG,EAAIF,MAAQA,EACRM,IAAAA,EAAMH,SAASI,eAAe,eAClCD,EAAIE,YAAYN,GAChBI,EAAIP,GAAMC,MAAQA,EAGnB,IAAIS,EAAmB,SAAnBA,EAA4BC,GAI3BA,GAHJC,QAAQC,IAAI,QACZD,QAAQC,IAAIF,GACZG,OAAOC,QAAQC,UAAUC,eAAeP,GACpCC,EAAIO,eAAe,SAAWP,EAAIO,eAAe,OAAQ,CACxDf,IAAAA,EAAMC,SAASC,cAAc,SACjCF,EAAID,KAAO,SACXC,EAAIH,KAAOW,EAAIQ,IACfhB,EAAIG,GAAKK,EAAIQ,IACbhB,EAAIF,MAAQU,EAAIS,KAAK,GACjBb,IAAAA,EAAMH,SAASI,eAAe,eAClCD,EAAIE,YAAYN,GAChBI,EAAII,EAAIQ,KAAKlB,MAAQU,EAAIS,KAAK,GAC1BC,IAAAA,EAAM,IAAIC,IAAIX,EAAIU,KACtBd,EAAIgB,OAASF,EAAIG,OAASH,EAAII,SAC9Bb,QAAQC,IAAIQ,EAAIG,OAASH,EAAII,UACzBd,EAAIO,eAAe,UAA0B,OAAdP,EAAIe,OACtC3B,EAAa,IAAK,OAEnBQ,EAAIoB,WAKNb,OAAOC,QAAQC,UAAUY,YAAYlB","file":"search.js","sourceRoot":"../../src","sourcesContent":["function create_input(name, value, type='hidden'){\r\n\tlet hin = document.createElement(\"input\")\r\n\thin.type = type\r\n\thin.name = name\r\n\thin.id = name\r\n\thin.value = value\r\n\tlet frm = document.getElementById(\"post-search\")\r\n\tfrm.appendChild(hin)\r\n\tfrm[name].value = value\r\n}\r\n\r\nvar onMessageHandler = function(msg) {\r\n\tconsole.log('test')\r\n\tconsole.log(msg)\r\n\tchrome.runtime.onMessage.removeListener(onMessageHandler)\r\n\tif (msg.hasOwnProperty('data') && msg.hasOwnProperty('qel')) {\r\n\t\tvar hin = document.createElement(\"input\")\r\n\t\thin.type = \"hidden\"\r\n\t\thin.name = msg.qel\r\n\t\thin.id = msg.qel\r\n\t\thin.value = msg.data[0]\r\n\t\tlet frm = document.getElementById(\"post-search\")\r\n\t\tfrm.appendChild(hin)\r\n\t\tfrm[msg.qel].value = msg.data[0]\r\n\t\tlet url = new URL(msg.url)\r\n\t\tfrm.action = url.origin + url.pathname\r\n\t\tconsole.log(url.origin + url.pathname)\r\n\t\tif (msg.hasOwnProperty('qwant') && msg.qwant !== null){\r\n\t\t\tcreate_input('t', 'web')\r\n\t\t}\r\n\t\tfrm.submit()\r\n\t}\r\n\t\r\n}\r\n\r\nchrome.runtime.onMessage.addListener(onMessageHandler)"]}